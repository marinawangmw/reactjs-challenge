{"ast":null,"code":"import _slicedToArray from\"D:\\\\React-Workspace\\\\Puzzle\\\\reactjs-challenge-marina\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import{Button}from\"@material-ui/core\";import SearchIcon from\"@material-ui/icons/Search\";import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{clearCollectionAction,clearInputAction,getCollectionAction,setInputNameAction,setInputTypeAction,setPageAction,setTotalPagesAction}from\"../../redux/searcher/searcher.actions\";import ButtonAction from\"../buttonAction/ButtonAction\";import InputField from\"../inputField/InputField\";import\"./SearchForm.css\";var SearchForm=function SearchForm(){// States\nvar filter=useSelector(function(state){return state.searcher.activeFilter;});var inputName=useSelector(function(state){return state.searcher[filter]?state.searcher[filter].inputName:\"\";});var inputType=useSelector(function(state){return state.searcher[filter]?state.searcher[filter].inputType:\"\";});// Dispatches\nvar dispatch=useDispatch();var setName=function setName(event){dispatch(setInputNameAction(event.target.value));};var setType=function setType(event){dispatch(setInputTypeAction(event.target.value));};// Disable feature\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),enableSearch=_useState2[0],setEnableSearch=_useState2[1];useEffect(function(){if(!inputName&&!inputType){setEnableSearch(false);return;}setEnableSearch(inputName?inputName.length>2:inputType?inputType.length>2:false);},[inputName,inputType]);// Event Handlers\nvar getCollection=function getCollection(event){event.preventDefault();dispatch(getCollectionAction());};var clearAll=function clearAll(event){event.preventDefault();dispatch(clearInputAction());dispatch(clearCollectionAction());dispatch(setPageAction(1));dispatch(setTotalPagesAction(0));};return/*#__PURE__*/React.createElement(\"div\",{className:\"searchForm\"},/*#__PURE__*/React.createElement(\"form\",{className:\"searchForm__form\"},/*#__PURE__*/React.createElement(InputField,{label:\"Search by name\",value:inputName||\"\",handleChange:setName}),/*#__PURE__*/React.createElement(InputField,{label:\"Search by type\",value:inputType||\"\",handleChange:setType,disabled:filter===\"episodes\"}),/*#__PURE__*/React.createElement(ButtonAction,{disabled:!enableSearch,type:\"submit\",handleClick:getCollection},/*#__PURE__*/React.createElement(SearchIcon,null)),/*#__PURE__*/React.createElement(ButtonAction,{handleClick:clearAll},/*#__PURE__*/React.createElement(Button,{color:\"primary\",className:\"searchForm__clearButton\"},\"Clear All\"))));};export default SearchForm;","map":{"version":3,"sources":["D:/React-Workspace/Puzzle/reactjs-challenge-marina/src/components/searchForm/SearchForm.tsx"],"names":["Button","SearchIcon","React","useEffect","useState","useDispatch","useSelector","clearCollectionAction","clearInputAction","getCollectionAction","setInputNameAction","setInputTypeAction","setPageAction","setTotalPagesAction","ButtonAction","InputField","SearchForm","filter","state","searcher","activeFilter","inputName","inputType","dispatch","setName","event","target","value","setType","enableSearch","setEnableSearch","length","getCollection","preventDefault","clearAll"],"mappings":"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","sourcesContent":["import { Button } from \"@material-ui/core\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport React, { ChangeEvent, useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { RootState } from \"../../redux/root-reducer\";\r\nimport {\r\n\tclearCollectionAction,\r\n\tclearInputAction,\r\n\tgetCollectionAction,\r\n\tsetInputNameAction,\r\n\tsetInputTypeAction,\r\n\tsetPageAction,\r\n\tsetTotalPagesAction,\r\n} from \"../../redux/searcher/searcher.actions\";\r\nimport ButtonAction from \"../buttonAction/ButtonAction\";\r\nimport InputField from \"../inputField/InputField\";\r\nimport \"./SearchForm.css\";\r\n\r\nconst SearchForm = () => {\r\n\t// States\r\n\tconst filter = useSelector((state: RootState) => state.searcher.activeFilter);\r\n\r\n\tconst inputName = useSelector((state: RootState) =>\r\n\t\tstate.searcher[filter] ? state.searcher[filter].inputName : \"\"\r\n\t);\r\n\r\n\tconst inputType = useSelector((state: RootState) =>\r\n\t\tstate.searcher[filter] ? state.searcher[filter].inputType : \"\"\r\n\t);\r\n\r\n\t// Dispatches\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst setName = (event: ChangeEvent<HTMLInputElement>) => {\r\n\t\tdispatch(setInputNameAction(event.target.value));\r\n\t};\r\n\r\n\tconst setType = (event: ChangeEvent<HTMLInputElement>) => {\r\n\t\tdispatch(setInputTypeAction(event.target.value));\r\n\t};\r\n\r\n\t// Disable feature\r\n\tconst [enableSearch, setEnableSearch] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!inputName && !inputType) {\r\n\t\t\tsetEnableSearch(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetEnableSearch(\r\n\t\t\tinputName\r\n\t\t\t\t? inputName.length > 2\r\n\t\t\t\t: inputType\r\n\t\t\t\t? inputType.length > 2\r\n\t\t\t\t: false\r\n\t\t);\r\n\t}, [inputName, inputType]);\r\n\r\n\t// Event Handlers\r\n\tconst getCollection = (event: React.MouseEvent) => {\r\n\t\tevent.preventDefault();\r\n\t\tdispatch(getCollectionAction());\r\n\t};\r\n\r\n\tconst clearAll = (event: React.MouseEvent) => {\r\n\t\tevent.preventDefault();\r\n\t\tdispatch(clearInputAction());\r\n\t\tdispatch(clearCollectionAction());\r\n\t\tdispatch(setPageAction(1));\r\n\t\tdispatch(setTotalPagesAction(0));\r\n\t};\r\n\treturn (\r\n\t\t<div className=\"searchForm\">\r\n\t\t\t<form className=\"searchForm__form\">\r\n\t\t\t\t<InputField\r\n\t\t\t\t\tlabel=\"Search by name\"\r\n\t\t\t\t\tvalue={inputName || \"\"}\r\n\t\t\t\t\thandleChange={setName}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<InputField\r\n\t\t\t\t\tlabel=\"Search by type\"\r\n\t\t\t\t\tvalue={inputType || \"\"}\r\n\t\t\t\t\thandleChange={setType}\r\n\t\t\t\t\tdisabled={filter === \"episodes\"}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<ButtonAction\r\n\t\t\t\t\tdisabled={!enableSearch}\r\n\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\thandleClick={getCollection}\r\n\t\t\t\t>\r\n\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t</ButtonAction>\r\n\r\n\t\t\t\t<ButtonAction handleClick={clearAll}>\r\n\t\t\t\t\t<Button color=\"primary\" className=\"searchForm__clearButton\">\r\n\t\t\t\t\t\tClear All\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</ButtonAction>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default SearchForm;\r\n"]},"metadata":{},"sourceType":"module"}